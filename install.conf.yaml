- defaults:
    link:
      relink: true

- clean: [~]

- create:
    - ~/downloads
    - ~/.vim/undo-history

- shell:
  - command: curl -Lo install-omz.sh https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh && chmod u+x install-omz.sh
    description: Download oh-my-zsh install script
    stdout: true
    stderr: true
  - command: sh ./install-omz.sh --keep-zshrc
    description: intall oh-my-zsh
    stdout: true
    stderr: true
  - command: mv ~/.oh-my-zsh/custom ~/.oh-my-zsh/custom_old
    description: move old custom directly so we can symlink our new oh-my-zsh stuff
    stdout: true
    stderr: true
  - [git submodule update --init --recursive, Installing submodules]
  - command: cp config/alacritty/alacritty.yml /mnt/c/Users/James/AppData/Roaming/alacritty
    description: Syncing alacritty config to Windows
  - command: cp ideavimrc /mnt/c/Users/James/.ideavimrc
    description: Syncing IDEA vim config to Windows
  - command: source ~/.zshrc
    description: Restart zsh


- link:
    ~/.bashrc: bashrc
    #~/.dotfiles: ''
    ~/.vim: vim
    ~/.vimrc: vimrc
    ~/.zshrc: zshrc
    ~/.gitconfig: gitconfig
    ~/.tmux.conf: tmux.conf
    ~/.pandoc: pandoc
    ~/.config: config
    ~/.oh-my-zsh/custom: oh-my-zsh/custom
